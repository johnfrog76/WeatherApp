"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[622],{"app.css":(e,n,t)=>{t.r(n),t.d(n,{default:()=>r});var i=t(81),a=t.n(i),s=t(645),o=t.n(s)()(a());o.push([e.id,"\n.container {\n  margin-top: 2rem;\n}\n\n.sr-only {\n  position:absolute;\n  left:-10000px;\n  top:auto;\n  width:1px;\n  height:1px;\n  overflow:hidden;\n}\n\n.greybg {\n  background-color: #efefef; \n}\n\n.section-select-city {\n  position: relative;\n  width: 100%;\n}\n\n.section-select-city .suggest-city-inner {\n  position: relative;\n}\n\n.forecast-title-text {\n  margin-top: 1.5rem;\n}\n\n#submitSearch {\n  position: absolute;\n  top: 0;\n  left: 0.5rem;\n  z-index: 5;\n}\n\n#clearSearch {\n  position: absolute;\n  top: 0;\n  right: 0.5rem;\n  z-index: 5;\n}\n\n#submitSearch:focus, #clearSearch:focus {\n  outline: 2px solid !important;\n  outline-offset: -7px !important;\n  box-shadow: none;\n}\n\n#submitSearch:focus + .suggest-city-control input {\n  padding-left: 55px;\n}\n\n.suggest-city-control input {\n  padding-left: 45px;\n}\n\n.empty-message {\n  text-align: center;\n}\n\n.loading-indicator {\n  position: absolute;\n  z-index: 10;\n  top: 33vh;\n  left: 50%;\n}\n\n.modal.show {\n  top: 10vh;\n  display: block;\n  position: absolute;\n  z-index: inherit;\n}\n\n.modal.fade.show {\n  display: block;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: fixed;\n  z-index: 5;\n}\n\n\n:focus {\n  outline: 2px dashed;\n}\n\n.suggest-city-control {\n  position: relative;\n  min-width: 200px;\n  flex: 1;\n}\n\n.suggest-city-control .dropdown-menu {\n  min-width: 200px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n\n.dropdown-menu .btn.btn-link {\n  min-width: 100%;\n  text-align: left;\n}\n.dropdown-menu .btn.btn-link:focus {\n  box-shadow: none;\n  outline: 2px dashed;\n  outline-offset: -2px;\n}\n\n\n.current-condition {\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n\n.weather {\n  text-align: center;\n}\n\n.weather .weather-title {\n  font-size: 2.5rem;\n}\n",""]);const r=o},"app.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <require from="./app.css"></require>\n  <require from="./components/header/header"></require>\n  <require from="./components/empty-message/empty-message"></require>\n  <require from="./components/loading/loading"></require>\n  <require from="./components/temp-toggle/temp-toggle"></require>\n  <require from="./components/suggest-city/suggest-city"></require>\n  <require from="./components/weather-modal/weather-modal"></require>\n  <require from="./components/aria-live/aria-live"></require>\n  \n  <header></header>\n  \n  <weather-modal\n    current.bind="currentItem"\n    citychild.bind="city"\n    showmodal.bind="showModal"\n    hidemodal.call="hideModal()"\n    citychild.bind="city"\n  ></weather-modal>\n\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n        <section class="section-select-city greybg p-5" aria-label="search city control">\n          <suggest-city\n            querycity.bind="queryCity"\n            citychild.bind="city"\n            queryresults.bind="queryResults"\n            querycities.call="queryCities($event)"\n            selectquerycity.call="selectQueryCity($event)"\n            trapkeys.call="trapKeys($event)"\n            clearfield.call="clearField($event)"\n            forecastchild.call="forecast($event)"\n          ></suggest-city>\n        </section>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-12">\n        <h1 class="forecast-title-text">Forecast <span if.bind="forcastlist.length !== 0 && cityResponse === city && queryCity === city">for ${city}</span></h1>\n      </div>\n    </div>\n  </div>\n\n  <div class="d-flex justify-content-center align-items-center container">\n    <loading if.bind="isLoading"></loading>\n    <table class="table table-hover" if.bind="!isLoading">\n      <thead>\n        <tr class="table-primary">\n          <th scope="col">Date and Time</th>\n          <th scope="col">\n            <temp-toggle \n              celcius.bind="showCelsius"\n              handleclick.call="toggleTempFormat()"\n            ></temp-toggle>\n          </th>\n          <th scope="col">Humidity %</th>\n          <th scope="col">Weather</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr if.bind="forcastlist.length === 0">\n            <td colspan="4">\n              <empty-message class="empty-message" showmore.bind="emptyMesasageMore" message.bind="emptyMessage"></empty-message>\n            </td>\n        </tr>\n        <tr tabindex="0" class="table" repeat.for="item of forcastlist" keydown.delegate="handleModal($event, $index)" click.delegate="displayModal($index)">\n          <td scope="row" click.delegate="display">${item.dt_txt}</td>\n          <td>\n            <span if.bind="!showCelsius" class="fahrenheit">${ (1.8*(item.main.temp - 273) + 32).toFixed(0)}</span>\n            <span if.bind="showCelsius" class="celcius">${ (item.main.temp - 273.15).toFixed(0) }</span>\n          </td>\n          <td>${item.main.humidity}</td>\n          <td>\n            <span class="fa fa-sun" if.bind="item.weather[0].main === \'Clear\'"></span>\n            <span class="fa fa-cloud" if.bind="item.weather[0].main === \'Clouds\'"></span>\n            <span class="fa fa-tint" if.bind="item.weather[0].main === \'Rain\'"></span>\n            <span class="fa fa-snowflake" if.bind="item.weather[0].main === \'Snow\'"></span>\n            <span class="ml-2">${item.weather[0].main}</span>\n          </td>\n        </tr>\n      </tbody>\n    </table> \n  </div>\n  <aria-live message.bind="ariaMessage"></aria-live>\n</template>\n'},"components/aria-live/aria-live.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <div role="region" id="liveRegion1" class="sr-only" aria-live="assertive">\n    ${message}\n  </div>\n</template>\n'},"components/empty-message/empty-message.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <div class="d-flex justify-content-center align-items-center">\n    <span>${message}</span>\n    <button if.bind="showmore" click.delegate="handleUserAction($event)" class="btn btn-link empty-user-action">Enter a city?</button>\n  </div>\n</template>\n'},"components/header/header.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='\n<template>\n  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n    <a class="navbar-brand" href="#">${message}</a>\n    \x3c!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">\n      <span class="navbar-toggler-icon"></span>\n    </button> --\x3e\n\n    <div class="collapse navbar-collapse" id="navbarColor02">\n    </div>\n  </nav>\n\n</template>\n'},"components/loading/loading.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <div class="loading-indicator">${message}</div>\n</template>\n'},"components/suggest-city/suggest-city.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template class="d-flex justify-content-center align-items-center suggest-city-inner">\n    <button class="btn btn-link" title="submit search" id="submitSearch" click.trigger="forecastchild($event)"\n        disabled.bind="querycity !== citychild || citychild === \'\'" type="button"><i class="fa fa-search"></i></button>\n    <div class="suggest-city-control">\n      <input class="form-control" type="text" value.bind="querycity" keyup.trigger="handleQueryCity($event)" placeholder="search cities">\n      <div class="dropdown-menu show" if.bind="queryresults.length > 0 && querycity.length > 0 && querycity !== citychild" class="results">\n        <span class="tabstop sr-only" id="tabstop1" keyup.trigger="trapkeys($event)" tabindex="0"></span>\n        <button repeat.for="result of queryresults" \n          click.delegate="handleSelectQueryCity($event)"\n          keyup.trigger="trapkeys($event)"\n          id="city-search-result-${$index}"\n          class="btn btn-link">\n          <span class="query-city">${result.city}</span>, <span class="query-state">${result.state}</span>\n        </button>\n        <span class="tabstop sr-only" id="tabstop2" keyup.trigger="trapkeys($event)" tabindex="0"></span>\n      </div>\n    </div>\n    <button class="btn btn-link" title="clear search" id="clearSearch" if.bind="querycity.length > 0"\n      type="button" click.delegate="clearfield($event)"><i class="fa fa-times"></i></button>\n</template>\n'},"components/temp-toggle/temp-toggle.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <span\n  role="button"\n    tabindex="0"\n    class="column-title-f"\n    keydown.trigger="onTempClick($event)"\n    click.delegate="onTempClick($event)"\n  >${!celcius ?  \'&deg;F\' : \'&deg;C\'}</span>\n</template>\n'},"components/weather-modal/weather-modal.html":(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i='<template>\n  <div class="modal fade" class.bind="showmodal ? \'show\' : \'\'" tabindex="-1" click.delegate="hidemodal()" data-dismiss="modal">\n    <div class="modal" class.bind="showmodal ? \'show\' : \'\'"  tabindex="-1" role="dialog">\n      <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h5 class="modal-title">Weather for ${current.dt_txt}</h5>\n            <button type="button" class="close" click.delegate="hidemodal()" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="current-condition"> \n              <div class="weather">\n                <h1 class="weather-title">${ citychild } | ${current.weather[0].main}\n                  <span class="fa fa-sun" if.bind="current.weather[0].main === \'Clear\'"></span>\n                  <span class="fa fa-cloud" if.bind="current.weather[0].main === \'Clouds\'"></span>\n                  <span class="fa fa-tint" if.bind="current.weather[0].main === \'Rain\'"></span>\n                  <span class="fa fa-snowflake" if.bind="current.weather[0].main === \'Snow\'"></span>\n                </h1>\n                <span if.bind="!showCelsius" class="fahrenheit">${ (1.8*(current.main.temp - 273) + 32).toFixed(0)} &deg;F</span>\n                <span if.bind="showCelsius" class="celcius">${ (current.main.temp - 273.15).toFixed(0) } &deg;C</span>\n              </div>\n            </div>\n            <ul class="current-condition-list">\n              <li>humidity: <span>${current.main.humidity} %</span></li>\n              <li>feels_like: <span>${current.main.feels_like}</span>\n              </li>\n              <li>grnd_level: <span>${current.main.grnd_level}</span></li>\n              <li>pressure: <span>${current.main.pressure}</span></li>\n              <li>sea_level: <span>${current.main.sea_level}</span></li>\n              <li>temp_max: <span>${current.main.temp_max}</span></li>\n              <li>temp_min: <span>${current.main.temp_min}</span></li> \n              <li>wind direction: <span>${current.wind.deg}</span>\n                <span>${getWindDirection(current.wind.deg)}</span>\n                <span class="fa fa-arrow-right" style.bind="\'transform: rotate(\' + (90 + current.wind.deg) +\'deg)\'"></span>\n              </li>\n              <li>wind gust: <span>${current.wind.gust}</span></li>\n              <li>wind speed: <span>${current.wind.speed}</span></li>  \n            </ul>\n            \n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-secondary" click.delegate="hidemodal()" data-dismiss="modal">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\x3c!-- \ncurrent\ncity\nshowmodal: boolean;\nhidemodal: () => void;\ngetWindDirection: (deg: number) => string;\n\n--\x3e\n'},app:(e,n,t)=>{t.r(n),t.d(n,{App:()=>c});var i=t(655),a=t(139),s=t("aurelia-framework"),o=function(){function e(e){this.httpClient=e,this.httpClient.configure((function(e){e.withBaseUrl("https://api.openweathermap.org/data/2.5/")}))}return e.prototype.getForecast=function(e){var n=this;return new Promise((function(t,i){n.httpClient.get("forecast?q="+e+"&appid=5f869c4127815ee4eb1ed4c0c8670b44").then((function(e){var n=JSON.parse(e.response);setTimeout((function(){t(n)}),1500)})).catch((function(e){i(e)}))}))},(0,i.gn)([s.autoinject,(0,i.w6)("design:paramtypes",[a.eN])],e)}(),r=t(837),l=t(493),c=function(){function e(e){this.weatherService=e,this.city="",this.cityResponse="",this.queryCity="",this.queryResults=[],this.city_list=[],this.ariaMessage="",this.forcastlist=[],this.isLoading=!0,this.showCelsius=!0,this.emptyMessage="there is no weather data.",this.emptyMesasageMore=!0,this.showModal=!1,this.currentItem={},this.hasError=!1,this.errorMesage=""}return e.prototype.liveAriaMessage=function(e,n){var t=this;void 0===n&&(n=1e4),this.ariaMessage=e,setTimeout((function(){t.ariaMessage=""}),n)},e.prototype.activate=function(){this.city_list=r,this.isLoading=!1},e.prototype.queryCities=function(e){var n=this;this.queryCity=e.target.value;var t=this.city_list.filter((function(e){return-1!==e.city.toLowerCase().indexOf(n.queryCity.toLowerCase())}));return t.length>0&&t.length<10?this.queryResults=t.slice(0):this.queryResults=[],!0},e.prototype.trapKeys=function(e){var n=e.target;if("BUTTON"===n.tagName&&"escape"===e.code.toLowerCase())return e.target.closest(".suggest-city-control").children[0].focus(),!0;if("SPAN"===n.tagName){var t=n.parentElement.getElementsByTagName("BUTTON"),i=t[0],a=t[t.length-1];"tab"===e.code.toLowerCase()&&"keyup"===e.type&&("tabstop1"===e.target.id&&!0===e.shiftKey?a.focus():i.focus())}return!0},e.prototype.selectQueryCity=function(e){e.preventDefault();var n,t=document.querySelector(".suggest-city-control > input");n="SPAN"===e.target.tagName?e.target.parentElement.children[0].innerText:e.target.children[0].innerText,setTimeout((function(){t.focus()}),500),this.queryResults=[],this.queryCity="",this.queryCity=n,this.city=n},e.prototype.displayModal=function(e){this.currentItem=this.forcastlist[e||0],this.showModal=!0,document.querySelector(".show")},e.prototype.handleModal=function(e,n){if("keydown"!==e.type||"enter"!==e.key.toLowerCase())return!0;this.displayModal(n),setTimeout((function(){document.querySelector(".close").focus()}))},e.prototype.hideModal=function(){this.showModal=!1},e.prototype.clearField=function(e){var n=document.querySelector(".suggest-city-control input");n&&n.focus(),this.city="",this.queryCity="",this.queryResults=[],this.forcastlist=[]},e.prototype.toggleTempFormat=function(){this.showCelsius=!this.showCelsius},e.prototype.forecast=function(e){var n=this;e.preventDefault();var t=this.city;this.isLoading=!0,this.weatherService.getForecast(t).then((function(e){n.cityResponse=e.city.name,n.forcastlist=e.list.map((function(e){var n=new Date(1e3*e.dt);return(0,i.pi)((0,i.pi)({},e),{dt_txt:l.Z.format(n,"dddd, MM/DD - hh:mm A")})})),n.liveAriaMessage("forecast has loaded for ".concat(t),5e3),n.isLoading=!1,n.showCelsius=!1})).catch((function(e){console.error(e),n.isLoading=!1}))},(0,i.gn)([(0,s.inject)(o),(0,i.w6)("design:paramtypes",[o])],e)}()},"components/aria-live/aria-live":(e,n,t)=>{t.r(n),t.d(n,{AriaLive:()=>s});var i=t(655),a=t("aurelia-framework"),s=function(){function e(){}return(0,i.gn)([a.bindable,(0,i.w6)("design:type",String)],e.prototype,"message",void 0),e}()},"components/empty-message/empty-message":(e,n,t)=>{t.r(n),t.d(n,{EmptyMessage:()=>s});var i=t(655),a=t("aurelia-framework"),s=function(){function e(){}return e.prototype.activate=function(){},e.prototype.handleUserAction=function(e){e.preventDefault();try{document.querySelector(".suggest-city-control > input").focus()}catch(e){console.error("unable to focus button")}},(0,i.gn)([a.bindable,(0,i.w6)("design:type",String)],e.prototype,"message",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Boolean)],e.prototype,"showmore",void 0),e}()},"components/header/header":(e,n,t)=>{t.r(n),t.d(n,{Header:()=>i});var i=function(){this.message="WeatherApp"}},"components/loading/loading":(e,n,t)=>{t.r(n),t.d(n,{Loading:()=>i});var i=function(){this.message="Loading..."}},"components/suggest-city/suggest-city":(e,n,t)=>{t.r(n),t.d(n,{SuggestCity:()=>s});var i=t(655),a=t("aurelia-framework"),s=function(){function e(){}return e.prototype.handleSelectQueryCity=function(e){e.preventDefault(),this.selectquerycity(e)},e.prototype.handleQueryCity=function(e){e.preventDefault(),this.querycity===this.citychild&&""!==this.citychild?"enter"===e.key.toLowerCase()&&this.forecastchild(e):this.querycities(e)},(0,i.gn)([a.bindable,(0,i.w6)("design:type",String)],e.prototype,"citychild",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",String)],e.prototype,"querycity",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Array)],e.prototype,"queryresults",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"querycities",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"trapkeys",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"selectquerycity",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"clearfield",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"forecastchild",void 0),e}()},"components/temp-toggle/temp-toggle":(e,n,t)=>{t.r(n),t.d(n,{TempToggle:()=>s});var i=t(655),a=t("aurelia-framework"),s=function(){function e(){}return e.prototype.onTempClick=function(e){if("click"!==e.type&&("keydown"!==e.type||"enter"!==e.key.toLowerCase()))return!0;this.handleclick()},(0,i.gn)([a.bindable,(0,i.w6)("design:type",Boolean)],e.prototype,"celcius",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"handleclick",void 0),e}()},"components/weather-modal/weather-modal":(e,n,t)=>{t.r(n),t.d(n,{WeatherModal:()=>s});var i=t(655),a=t("aurelia-framework"),s=function(){function e(){}return e.prototype.getWindDirection=function(e){var n="";return 0===e||360===e?n="N":90===e?n="E":180===e?n="S":270===e?n="W":e>0&&e<90?n="NE":e>90&&e<180?n="SE":e>180&&e<270?n="SW":e>270&&e<360&&(n="NW"),n},(0,i.gn)([a.bindable,(0,i.w6)("design:type",Object)],e.prototype,"current",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",String)],e.prototype,"citychild",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Boolean)],e.prototype,"showmodal",void 0),(0,i.gn)([a.bindable,(0,i.w6)("design:type",Function)],e.prototype,"hidemodal",void 0),e}()},main:(e,n,t)=>{t.d(n,{configure:()=>a});const i=JSON.parse('{"f":false,"K":false}');function a(e){e.use.standardConfiguration().feature("resources/index"),e.use.developmentLogging(i.f?"debug":"warn"),i.K&&e.use.plugin("aurelia-testing"),e.start().then((function(){return e.setRoot("app")}))}t(15)},"resources/index":(e,n,t)=>{function i(e){}t.r(n),t.d(n,{configure:()=>i})}}]);